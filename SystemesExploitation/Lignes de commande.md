## Lignes de commande. 



La mauvaise réputation de Linux vient de l'idée reçue que tout doit être fait en **ligne de commande**, c'est à dire en entrant de longues et compliquées suites de caractères destinées à exécuter les taches même les plus simples; d'où la conséquence que seuls les "initiés" et les surdoués de l'informatique peuvent utiliser un tel système...

![](F:\lycee\NSI\systéme d'exploitation\ligne_commande.jpg)

Cette situation était peut-être vraie au début de l'existence de Linux ( on rappelle : 1991 ) mais est complètement dépassée aujourd'hui. 

Cependant, la ligne de commande est un outil très puissant, de nombreuses taches pouvant souvent grâce à elle être effectuées plus rapidement; de plus, certains utilisateurs préfèrent passer par la ligne de commande pour réaliser les taches courantes, car ils y sont habitués. On voit même maintenant arriver sous Windows l'équivalent de la ligne de commandes Linux, le ["Power-Shell"](https://fr.wikipedia.org/wiki/Windows_PowerShell) : c'est donc bien que cela a son utilité !

L'étude et l'utilisation de quelques commandes "classiques" sous Linux sont au programme de la spé NSI, vous allez donc découvrir à quoi tout cela ressemble...



#### I. Arborescence.



Dans la "philosophie UNIX" dont dérive Linux, tout est fichier : toutes les ressources de la machine, les documents mais aussi les périphériques, peuvent être accédés grâce à leur **chemin d'accès** dans le **système de fichiers**.

L'**arborescence** du système de fichiers, c'est à dire la hiérarchie des répertoires et fichiers présentée sous forme d'un arbre, est la suivante :

​	
 

| Répertoire                               | description                                                  |
| ---------------------------------------- | ------------------------------------------------------------ |
| `/`                                      | Répertoire  "**racine**", 				point d'entrée du système de fichiers |
| `/boot`                                  | Répertoire contenant le noyau Linux et l'amorceur            |
| `/bin`                                   | Répertoire contenant les exécutables système de base         |
| `/dev`                                   | Répertoire contenant des fichiers spéciaux nommés *devices* 	qui permettent le lien avec les périphériques de la machine |
| `/etc`                                   | Répertoire contenant les fichiers de configuration du système |
| `/home`                                  | Répertoire contenant les fichiers personnels des utilisateurs (un sous-répertoire par utilisateur) . |
| `/media` 				ou `/run/media` | Répertoire contenant les « points de montage » des médias usuels : cd, dvd, disquette, clef usb |
| `/root`                                  | Répertoire personnel de l'administrateur                     |
| `/tmp`                                   | Répertoire contenant des fichiers temporaires utilisés par certains programmes |
| `/usr`                                   | Répertoire contenant les exécutables des programmes (`/usr/bin` et `/usr/sbin`), la documentation (`/usr/doc`). |
| `/var`                                   | Répertoire contenant les fichiers qui servent à la maintenance du système (les fichiers de journaux notamment dans `/var/log`) |



 

Hé non, pas de "c:\" ou "d:\" : c'est vraiment une autre façon de voir les choses...

Pour indiquer dans l'arborescence le chemin d'accès vers une ressource, on utilise le *slash* ( "/" ) pour séparer deux niveaux successifs :

```
        /niveau_1/niveau_2/niveau_3/....                                
                                
```

Le répertoire dans lequel on se "trouve" actuellement s'appelle le **répertoire courant**.

Un chemin d'accès peut être :

- **absolu** lorsqu'on le décrit complètement depuis la racine  
- **relatif** si on le décrit seulement depuis le répertoire courant  

Par exemple, dans l'arborescence ci-contre, si le répertoire courant est : `/home/bob`

- le chemin absolu vers le sous-répertoire `rock` est : `/home/bob/music/rock`  
- le chemin relatif vers ce sous-répertoire est simplement : `/music/rock`  

![](F:\lycee\NSI\systéme d'exploitation\arbre.jpg)

Exercice 1: 

1. Quel est le chemin relatif pour vous accéder au document logo.png ?
2. Quel est le chemin absolu pour vous accéder au document logo.png ?
3. Quel est le chemin absolu pour vous accéder au dossier alice?



#### II. Lignes de commandes.



##### a. Console et terminal

Une console est un écran attendant des instructions, on y accède avec les touches Ctrl + Alt + Fx ou x est un chiffre entre 1 et 6. Il faut faire Ctrl + Alt + F7 pour revenir à l’interface graphique. La console n’étant pas très pratique on lui préfère souvent un terminal qui est une fenêtre avec une console à l’intérieur. On utilisera le terminal Tilix. 

Ouvrir Tilix. 

L’invite de commande se présente sous la forme :

login@ordi:repertoire_courant$



Vous pouvez alors saisir des commandes.

De manière générale, la syntaxe est la suivante : nom [options] [–] [arguments]



Astuces :

-  tab (la touche tabulation) complète automatiquement le nom ou l’arborescence s’il est unique. tab tab affiche toutes les possibilités.
- il est possible de remonter dans l’historique des commandes avec ↑.



##### b. Lignes de commande. 

**Commandes en lien avec les répertoires :**



​	**pwd** (print working directory) : donne l'adresse du répertoire dans lequel on se trouve.  

​	

​	Question 1: Exécuter la commande `pwd` et indiquer le répertoire dans lequel vous vous trouvez.



​	**ls :** liste le contenu du répertoire(ou du dossier) courant. 

​	On peut ajouter des options à cette commande. 

​	Par exemple :

​	**ls -a** : permet de lister également les fichiers cachés. 

​	**ls -l** : donne une description complète

​	Question 2:  Exécuter la commande` ls`. Indiquer le contenu du répertoire courant. 



​	**cd** (change directory) permet de se déplacer dans les répertoires. On lui donne en argument 	(mettre un espace) l'adresse relative ou absolue du répertoire dans lequel on veut se rendre. 

 	Question 3:

​	1.  Exécuter la commande `cd .....` puis executer pwd. Que se passe-t-il ? 	

​	2.   Exécuter `cd..`, puis ` pwd`. Que se passe-t-il ?

​	3. Complèter la phrase suivante :

​	 La commande cd .. permet de 



​	**mkdir** crée le répertoire précisé en argument. 

​	Question 4 :Exécuter la commande `mkdir montravail`, puis la commande ls. Que se passe-t-il ? 

​	**rmdir** supprime le répertoire précisé en argument (attention, ce repertoire doit être vide). 

​	Question 5 : exécuter la commande `rmdir montravail`, puis la commande ls. Que se passe-t-il ? 



**Commandes en lien avec les fichiers.**



​	**cp** copie les fichiers. 

​	Question 5 : Exécuter la commande `cp fichier1.txt Sequence1`, rendez vous ensuite dans le dossier Sequence1 (à l'aide de la commande cd) et vérifie à l'aide de la commande ls que  fichier1.text est apparu



​	**rm** supprime définitivement les fichiers passés en argument.

​	Question 6 : En étant dans le répertoire Sequence1, executer la commande rm fichier1.txt. Quelle commande utilisez vous afin de vérifier que cela véritablement fonctionné ? 



​	**mv** renomme et déplace des fichiers. 

​	Question 7: Retourner dans le répertoire /home/alice, exécute la commande mv 	fichier1.txt Sequence1, affiche la liste du répertoire /home/alice puis  rendez vous ensuite 	dans le dossier Sequence1 (à l'aide de la commande cd) et vérifiez à l'aide de la commande ls 	que  fichier1.text est apparu. 

​	

​	 **touch** crée un fichier.

​	Question 8 : Crée un fichier mondoc.txt et vérifie qu'il est bien présent. 

​	

​	**cat** permet soit de consulter le contenu d'un fichier, soit d'écrire dans un fichier. 

​	

​	Question 9 :

​	Executer la commande suivante : 

​	

```bash
cat > mondoc.txt

	voici un texte

	qui continue sur plusieurs lignes ``` 
```





​	Valider chaque ligne en appuyant sur la touche Entrée et à la fin sur ctrl+Z

​	Exécuter ensuite la commande suivante : cat mondoc.txt. 

​	Que se passe-t-il ? 





Si tu veux en savoir davantage, tu peux rendre visite à la page suivante : https://fr.wikipedia.org/wiki/Commandes_Unix

N'hésite pas à visionner la vidéo suivante : 

https://www.youtube.com/watch?v=4jlPZtc17l8

Exercice 1: Indique à chaque fois la  (ou les) ligne(s) de commande te permettant de répondre à la question :

1. Rendez vous dans répertoire Documents
2. Afficher à l'écran le contenu du fichier detail-alice.txt
3. Retourner dans le répertoire /home/alice, crée toi un répertoire monrepertoire et déplacer le fichier detail-alice.txt dans ce répertoire.  
4. Créer un fichier vide dans monrepertoire qui se nomme monfichier.txt.
5. Ecrivez le texte suivant dans monfichier.txt : travailler sous le soleil est vraiment un plaisir !
6. Effacer monfichier.txt
7. Efface le repertoire monrepertoire



Exercice 2: Allez jouer [sur Terminus](https://luffah.xyz/bidules/Terminus/)